<html><head><link rel="import" href="../../polymer/lib/elements/dom-module.html"><link rel="import" href="../../vaadin-overlay/src/vaadin-overlay.html"></head><body><dom-module id="vaadin-context-menu-overlay-styles" theme-for="vaadin-context-menu-overlay"><template><style>:host{align-items:flex-start;justify-content:flex-start;}:host([right-aligned]){align-items:flex-end;}:host([bottom-aligned]){justify-content:flex-end;}[part="overlay"]{background-color:#fff;}</style></template></dom-module><dom-module id="vaadin-context-menu-overlay"><script>(function(){/**
       * The overlay element.
       *
       * ### Styling
       *
       * See [`<vaadin-overlay>` documentation](https://github.com/vaadin/vaadin-overlay/blob/master/src/vaadin-overlay.html)
       * for `<vaadin-context-menu-overlay>` parts.
       *
       * See [ThemableMixin â€“ how to apply styles for shadow parts](https://github.com/vaadin/vaadin-themable-mixin/wiki)
       *
       * @memberof Vaadin
       * @private
       */class ContextMenuOverlayElement extends Vaadin.OverlayElement{static get is(){return"vaadin-context-menu-overlay"}static get properties(){return{instanceProps:{type:Object,value:()=>{return{detail:!0/* ignoreName */ /* skipSlots */,target:!0}}},/**
             * @protected
             */parentOverlay:{type:Object,readOnly:!0}}}static get observers(){return["_themeChanged(theme)"]}ready(){super.ready();this.addEventListener("keydown",e=>{if(!e.defaultPrevented&&e.composedPath()[0]===this.$.overlay&&-1<[38,40].indexOf(e.keyCode)){const child=this.getFirstChild();if(child&&Array.isArray(child.items)&&child.items.length){e.preventDefault();if(38===e.keyCode){child.items[child.items.length-1].focus()}else{child.focus()}}}})}getFirstChild(){return this.content.querySelector(":not(style):not(slot)")}_themeChanged(theme){this.close()}getBoundaries(){// Measure actual overlay and content sizes
const overlayRect=this.getBoundingClientRect(),contentRect=this.$.overlay.getBoundingClientRect();// Maximum x and y values are imposed by content size and overlay limits.
let yMax=overlayRect.bottom-contentRect.height;// Adjust constraints to ensure bottom-aligned applies to sub-menu.
const parent=this.parentOverlay;if(parent&&parent.hasAttribute("bottom-aligned")){const parentStyle=getComputedStyle(parent);yMax=yMax-parseFloat(parentStyle.bottom)-parseFloat(parentStyle.height)}return{xMax:overlayRect.right-contentRect.width,yMax,left:overlayRect.left,top:overlayRect.top,width:contentRect.width}}}customElements.define(ContextMenuOverlayElement.is,ContextMenuOverlayElement)})();</script></dom-module></body></html>